<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_lasorb0</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>3</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>set = true;

orb_spawned_weapon = noone; // Stops a crash if no char is selected ??
if global.orb_spawn != noone{
    orb_spawned_weapon = instance_create(x, y, global.orb_spawn);
    with orb_spawned_weapon {
        orb = other.id;
    }
}

sprite_index = global.orb_sprite;

orb = instance_number(obj_char_orbs);

p=0;

reset = instance_number(obj_char_orbs);

xn = noone;
yn = noone;
xf = noone;
yf = noone;
x_pos = 0;
y_pos = 0;


// For Kaede
heat = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if orb_spawned_weapon != noone {
    with orb_spawned_weapon {
        instance_destroy();
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.pause=0{
    
    //Death
    //if global.life == -1 {instance_destroy();}
    if global.pow &lt; orb{
        instance_destroy();
    }
    
    // Check if power level has dropped
    if instance_number(obj_char_orbs) != reset{
        set = true;
    }
    reset = instance_number(obj_char_orbs);
    
    //Spawn events
    if set {
        set = false;
        script_execute(global.orb_position_script);
        x_pos = xn;
        y_pos = yn;
        p = 0;
        image_angle = 0;
    }
    
    //Makes them spin
    if global.orb_spin{
        image_angle -= 4;
    }
    
    //Orbs move above player while shift is being held
    if global.shift &amp;&amp; p &lt; 4{
        p += 1;
        x_pos -= (xn - xf) / 5;
        y_pos -= (yn - yf) / 5;
    }else if !global.shift &amp;&amp; p &gt; 0{
        p -= 1;
        x_pos += (xn - xf) / 5;
        y_pos += (yn - yf) / 5;
    }
    
    /* ---- Orb Lag ---- */
    var dist = point_distance(x, y, global.player_x+x_pos, global.player_y+y_pos);
    if dist &gt; 0.5 {
        var dir = point_direction(x, y, global.player_x+x_pos, global.player_y+y_pos);
        x += lengthdir_x(dist, dir) / 5;
        y += lengthdir_y(dist, dir) / 5;
    } else {
        round(x);
        round(y);
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.life &gt;= 0{
    if global.char &lt;= 1{
        draw_sprite_ext(sprite_index,image_index,round(x),round(y),1.3,1.3,image_angle,image_blend,0.4);
    }
    // For Kaede
    if global.pause == 0{
        if global.player.shoot_press &amp;&amp; !global.in_dialog{
            if heat &lt; 254{
                heat += 2;
            }
        }else{
            if heat &gt; 0{
                heat -= 2;
            }
        }
    }
    draw_sprite_ext(sprite_index,image_index,round(x),round(y),image_xscale,image_yscale,image_angle,make_colour_rgb(255, 255 -heat, 255 -heat),image_alpha);
}
/*
draw_set_font(font_debug);
draw_text(50, 40 * orb, x);
draw_text(50, (40 * orb) + 20, y);
*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>7,7</point>
    <point>8,8</point>
  </PhysicsShapePoints>
</object>
